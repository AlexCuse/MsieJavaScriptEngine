/*!
* This polyfill based on code of the following libraries:
* 1. Douglas Crockford's ECMAScript 5 Polyfill v0.1 - http://nuget.org/packages/ES5
* 2. MDN JavaScript Polyfills - http://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference
* 3. Steven Levithan's Cross-Browser Split v1.1.1 - http://blog.stevenlevithan.com/archives/cross-browser-split
*/
(function(n){function a(n){return h(n)==="[object Array]"}function o(n){return typeof n=="number"}function u(n){return n===void 0}function v(n){return s(n)&&h(n)==="[object RegExp]"}function s(n){return typeof n=="object"&&n!==null}function t(n){return typeof n=="function"}function h(n){return Object.prototype.toString.call(n)}var c="argument is not an Object.",i="argument is not a Function object.",l="implementation only accepts one parameter.",f="reduce of empty array with no initial value.",e,r;Array.prototype.hasOwnProperty("every")||(Array.prototype.every=function(n,r){var f=this,u,e=f.length;if(!t(n))throw new TypeError("Array.prototype.every: "+i);for(u=0;u<e;u+=1)if(f.hasOwnProperty(u)&&!n.call(r,f[u],u,f))return!1;return!0});Array.prototype.hasOwnProperty("filter")||(Array.prototype.filter=function(n,r){var f=this,u,s=f.length,o=[],e;if(!t(n))throw new TypeError("Array.prototype.filter: "+i);for(u=0;u<s;u+=1)f.hasOwnProperty(u)&&(e=f[u],n.call(r,e,u,f)&&o.push(e));return o});Array.prototype.hasOwnProperty("forEach")||(Array.prototype.forEach=function(n,r){var f=this,u,e=f.length;if(!t(n))throw new TypeError("Array.prototype.forEach: "+i);for(u=0;u<e;u+=1)f.hasOwnProperty(u)&&n.call(r,f[u],u,f)});Array.prototype.hasOwnProperty("indexOf")||(Array.prototype.indexOf=function(n,t){var u=this,i=t,r=u.length;if(r===0)return-1;if(o(i)){if(i>=r)return-1;i<0&&(i=r-Math.abs(i))}else i=0;while(i<r){if(u.hasOwnProperty(i)&&u[i]===n)return i;i+=1}return-1});Array.hasOwnProperty("isArray")||(Array.isArray=a);Array.prototype.hasOwnProperty("lastIndexOf")||(Array.prototype.lastIndexOf=function(n,t){var u=this,i=t,r=u.length;if(r===0)return-1;if(o(i)){if(i>=r)return-1;i<0&&(i=r-Math.abs(i))}else i=r-1;while(i>=0){if(u.hasOwnProperty(i)&&u[i]===n)return i;i-=1}return-1});Array.prototype.hasOwnProperty("map")||(Array.prototype.map=function(n,r){var f=this,u,o=f.length,e;if(!t(n))throw new TypeError("Array.prototype.map: "+i);for(e=new Array(o),u=0;u<o;u+=1)f.hasOwnProperty(u)&&(e[u]=n.call(r,f[u],u,f));return e});Array.prototype.hasOwnProperty("reduce")||(Array.prototype.reduce=function(r,u){var s=this,e,l=s.length,o=null,h=!1,c="Array.prototype.reduce";if(!t(r))throw new TypeError(c+": "+i);for(arguments.length>1&&(o=u,h=!0),e=0;l>e;e+=1)s.hasOwnProperty(e)&&(h?o=r.call(n,o,s[e],e,s):(o=this[e],h=!0));if(!h)throw new TypeError(c+": "+f);return o});Array.prototype.hasOwnProperty("reduceRight")||(Array.prototype.reduceRight=function(r,u){var o=this,e,l=o.length,s=null,h=!1,c="Array.prototype.reduceRight";if(!t(r))throw new TypeError(c+": "+i);for(arguments.length>1&&(s=u,h=!0),e=l-1;e>=0;e-=1)o.hasOwnProperty(e)&&(h?s=r.call(n,s,o[e],e,o):(s=o[e],h=!0));if(!h)throw new TypeError(c+": "+f);return s});Array.prototype.hasOwnProperty("some")||(Array.prototype.some=function(n,r){var f=this,u,e=f.length;if(!t(n))throw new TypeError("Array.prototype.some: "+i);for(u=0;u<e;u+=1)if(f.hasOwnProperty(u)&&n.call(r,f[u],u,f))return!0;return!1});Date.hasOwnProperty("now")||(Date.now=function(){return(new Date).getTime()});Date.prototype.hasOwnProperty("toISOString")||(Date.prototype.toISOString=function(){function n(n){return n<10?"0"+n:n}return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"});Function.prototype.hasOwnProperty("bind")||(Function.prototype.bind=function(n){var t=Array.prototype.slice,i=this,r=t.call(arguments,1);return function(){return i.apply(n,r.concat(t.call(arguments,0)))}});Object.hasOwnProperty("create")||(Object.create=function(n){function t(){}if(arguments.length>1)throw new Error("Object.create: "+l);return t.prototype=n,new t});Object.hasOwnProperty("keys")||(Object.keys=function(n){var i,r=[];if(!s(n)&&!t(n))throw new TypeError("Object.keys: "+c);for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(i);return r});("aa".split(/a/).length===0||"|a|".split(/\|/).length===1||"1, 2".split(/\s*(,)/).length===2)&&(e=String.prototype.split,r=u(/()??/.exec("")[1]),String.prototype.split=function(t,i){var s=this,o,a,h,c,p,f,y,w,l,b;if(!v(t))return e.call(s,t,i);for(o=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),h=0,c=new RegExp(t.source,a+"g"),r||(p=new RegExp("^"+c.source+"$(?!\\s)",a)),i=u(i)?-1>>>0:i>>>0;f=c.exec(s);){if(y=f.index+f[0].length,y>h&&(o.push(s.slice(h,f.index)),!r&&f.length>1&&f[0].replace(p,function(){for(l=1,b=arguments.length;l<b-2;l++)u(arguments[l])&&(f[l]=n)}),f.length>1&&f.index<s.length&&Array.prototype.push.apply(o,f.slice(1)),w=f[0].length,h=y,o.length>=i))break;c.lastIndex===f.index&&c.lastIndex++}return h===s.length?(w||!c.test(""))&&o.push(""):o.push(s.slice(h)),o.length>i?o.slice(0,i):o});String.prototype.hasOwnProperty("trim")||(String.prototype.trim=function(n){return function(){return this.replace(n,"$1")}}(/^\s*([\s\S]*\S)?\s*$/))})()